(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38d6e53e"],{"3f7a":function(e,t,c){},"72bb":function(e,t,c){"use strict";c.r(t);var n=c("7a23");function a(e,t,c,a,r,d){var s=Object(n["B"])("ViewDeck",!0);return Object(n["u"])(),Object(n["d"])(s)}c("b0c0");var r=function(e){return Object(n["x"])("data-v-3014801e"),e=e(),Object(n["v"])(),e},d={id:"deck"},s={class:"container deckDetails"},o={key:0},i={class:"headline"},l={class:"float-end"},u={key:0},b=Object(n["i"])(" Add Card "),j=r((function(){return Object(n["g"])("button",{"data-bs-toggle":"modal","data-bs-target":"#create_a_deck",class:"btn updateProfile me-3 d-inline-block"}," Update Deck ",-1)})),_=["disabled"],f={key:0},O={key:1},k={class:"deckRow"},m={class:"container bg-white mb-3 d-flex align-items-center deck justify-content-between"},p={class:"right-text"},g={class:"small text-secondary"},h=Object(n["i"])(" Start Test "),v={key:1},w={key:2,class:"container"},y={class:"mb-5 d-flex align-items-end form_div"},D=r((function(){return Object(n["g"])("h6",null,"Upload Excel",-1)})),x=r((function(){return Object(n["g"])("div",{class:"input-group"},[Object(n["g"])("input",{type:"file",class:"form-control",id:"file","aria-describedby":"file","aria-label":"Upload",required:"",name:"importFile",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, .xlsx, .xls"}),Object(n["g"])("button",{class:"btn btn-secondary",type:"submit",id:"file"}," Upload ")],-1)})),E=[D,x],C=["disabled"],A={key:0},S={key:1},P={class:"row"},F={class:"card-body",style:{"min-height":"8em"}},I={class:"fs-5"},M={class:"card-footer bg-transparent"},T=Object(n["i"])(" Edit Card "),U=["onClick"],B={key:1,class:"deckRow text-center"},V=r((function(){return Object(n["g"])("h1",{class:""},"No Deck Found!",-1)})),J=r((function(){return Object(n["g"])("p",{class:"text-secondary"},"Please check id",-1)})),K=[V,J];function L(e,t,c,a,r,D){var x=Object(n["B"])("router-link"),V=Object(n["B"])("create-deck");return Object(n["u"])(),Object(n["f"])("div",d,[Object(n["g"])("div",s,[e.current_deck?(Object(n["u"])(),Object(n["f"])("div",o,[Object(n["g"])("h1",i,[Object(n["i"])(Object(n["D"])(e.current_deck.name)+" ",1),Object(n["g"])("div",l,[e.current_deck.created_by_id==e.user.id?(Object(n["u"])(),Object(n["f"])("div",u,[Object(n["g"])("a",{href:"#!",onClick:t[0]||(t[0]=Object(n["M"])((function(){return D.deleteDeck&&D.deleteDeck.apply(D,arguments)}),["prevent"])),class:"btn me-3 updateProfile btn-secondary d-inline-block"}," Delete Deck "),Object(n["j"])(x,{to:{name:"AddCard",query:{deck:e.current_deck.id}},class:"btn me-3 updateProfile d-inline-block"},{default:Object(n["K"])((function(){return[b]})),_:1},8,["to"]),j])):Object(n["e"])("",!0),e.current_deck.created_by_id!=e.user.id&&e.current_deck.cards&&e.current_deck.cards.length>0?(Object(n["u"])(),Object(n["f"])("button",{key:1,onClick:t[1]||(t[1]=Object(n["M"])((function(){return D.download_excel&&D.download_excel.apply(D,arguments)}),["prevent"])),class:"btn ms-auto me-0 updateProfile h-50",disabled:r.isDownloadingExcel},[r.isDownloadingExcel?(Object(n["u"])(),Object(n["f"])("span",f,Object(n["D"])(r.isDownloadingExcel),1)):(Object(n["u"])(),Object(n["f"])("span",O," Download Excel "))],8,_)):Object(n["e"])("",!0)])]),Object(n["g"])("div",k,[Object(n["g"])("div",m,[Object(n["g"])("div",null,[Object(n["g"])("h1",null,Object(n["D"])(e.current_deck.name),1),Object(n["g"])("p",null," For "+Object(n["D"])(e.current_deck.created_for?e.current_deck.created_for:"All"),1)]),Object(n["g"])("div",p,[Object(n["g"])("p",null,Object(n["D"])(e.current_deck.number_of_cards),1),Object(n["g"])("h6",null,"~By "+Object(n["D"])(e.current_deck.user&&e.current_deck.user.username),1),Object(n["g"])("p",g," At "+Object(n["D"])(new Date(e.current_deck.created_at).toLocaleString("en-In")),1)])])]),e.current_deck.cards&&e.current_deck.cards.length>0?(Object(n["u"])(),Object(n["d"])(x,{key:0,to:{name:"DeckTest",params:{deck_id:e.current_deck.id}},class:"btn updateProfile mb-5 mt-5 mx-auto d-block w-25 p-2 fs-4"},{default:Object(n["K"])((function(){return[h]})),_:1},8,["to"])):(Object(n["u"])(),Object(n["f"])("h6",v,"No Questions Added")),e.current_deck.created_by_id==e.user.id?(Object(n["u"])(),Object(n["f"])("div",w,[Object(n["g"])("div",y,[Object(n["g"])("form",{class:"w-50 ms-0",onSubmit:t[2]||(t[2]=Object(n["M"])((function(e){return D.uploadExcel(e)}),["prevent"]))},E,32),e.current_deck.cards&&e.current_deck.cards.length>0?(Object(n["u"])(),Object(n["f"])("button",{key:0,onClick:t[3]||(t[3]=Object(n["M"])((function(){return D.download_excel&&D.download_excel.apply(D,arguments)}),["prevent"])),class:"btn ms-auto me-0 updateProfile h-50",disabled:r.isDownloadingExcel},[r.isDownloadingExcel?(Object(n["u"])(),Object(n["f"])("span",A,Object(n["D"])(r.isDownloadingExcel),1)):(Object(n["u"])(),Object(n["f"])("span",S," Download Excel "))],8,C)):Object(n["e"])("",!0)]),Object(n["j"])(V,{isUpdate:!0,deck:e.current_deck},null,8,["deck"]),Object(n["g"])("div",P,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(e.current_deck.cards||[],(function(e,t){return Object(n["u"])(),Object(n["f"])("div",{key:t,class:"mb-3 card col-lg-4 col-md-4 col-sm-6 col-xs-12"},[Object(n["g"])("div",F,[Object(n["g"])("h1",I,Object(n["D"])(e.front),1)]),Object(n["g"])("div",M,[Object(n["j"])(x,{to:{name:"EditCard",params:{card_id:e.id}},class:"btn mb-2 updateProfile d-block"},{default:Object(n["K"])((function(){return[T]})),_:2},1032,["to"]),Object(n["g"])("a",{href:"#!",class:"btn updateProfile btn-secondary d-block",onClick:Object(n["M"])((function(t){return D.deleteCard(e.id)}),["prevent"])}," Delete Card ",8,U)])])})),128))])])):Object(n["e"])("",!0)])):e.current_deck||e.loader?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",B,K))])])}var N=c("5530"),$=(c("4de4"),c("d3b7"),c("ac1f"),c("5319"),c("bc3a")),q=c.n($),R=c("5502"),Q=c("e4cd"),Y=c("df12"),z={components:{CreateDeck:Y["a"]},name:"ViewDeck",data:function(){return{source:null,isDownloadingExcel:null}},computed:Object(N["a"])({},Object(R["c"])(["current_deck","user","loader"])),methods:Object(N["a"])(Object(N["a"])({},Object(R["b"])(["set_loader","set_current_deck","set_error_message","set_toast_message"])),{},{download_excel:function(){var e=this;this.set_loader(!0),q.a.get(Q["a"]+"download_deck/"+this.current_deck.id,{headers:{"Auth-Token":localStorage.getItem("auth_token"),"Content-type":"application/json"}}).then((function(t){e.set_loader(!1),t.data.success&&e.set_toast_message(t.data.message)})).catch((function(t){e.set_error_message(t),e.set_loader(!1)}))},uploadExcel:function(e){var t=this;this.set_loader(!0);var c=new FormData(e.target);c.append("deck_id",this.current_deck.id),q.a.post(Q["a"]+"upload",c,{headers:{"Auth-Token":localStorage.getItem("auth_token"),"Content-type":"application/json"}}).then((function(e){e.data.success?t.set_current_deck(t.$route.params.deck_id).then((function(){t.set_loader(!1)})):t.set_loader(!1),t.set_toast_message(e.data.message)})).catch((function(e){t.set_error_message(e),t.set_loader(!1)}))},delete:function(e){var t=this;return this.set_loader(!0),q.a.delete(Q["a"]+e,{headers:{"Auth-Token":localStorage.getItem("auth_token"),"Content-type":"application/json"}}).catch((function(e){t.set_error_message(e),t.set_loader(!1)}))},deleteDeck:function(){var e=this;this.current_deck&&confirm("Are you sure do you want to delete it?")&&this.delete("deck/"+this.current_deck.id).then((function(t){t.data.status&&(e.set_error_message("Successfully deleted deck"),e.$router.push("/")),e.set_loader(!1)}))},deleteCard:function(e){var t=this;e&&confirm("Are you sure do you want to delete it?")&&this.delete("card/"+e).then((function(c){c.data.status&&(t.set_error_message("Successfully deleted card"),t.current_deck.cards=t.current_deck.cards.filter((function(t){return t.id!==e}))),t.set_loader(!1)}))}}),created:function(){var e=this;this.set_loader(!0),this.set_current_deck(this.$route.params.deck_id).then((function(){e.set_loader(!1)}))},mounted:function(){var e=this,t=this;this.source=new EventSource(Q["a"].replace("api/","")+"stream?channel="+this.user.email+"_"+this.user.id),this.source.addEventListener("excel",(function(e){var c=JSON.parse(e.data);if(t.isDownloadingExcel=c.message,c.file){var n=document.createElement("a"),a=c.filename,r=Object(Q["c"])(c.file);n.href=r,n.download=a,n.click(),t.set_toast_message("Your file is downloaded")}c.isDone&&(t.isDownloadingExcel=null)}),!1),this.source.addEventListener("error",(function(t){console.log(t),e.set_toast_message("Failed to connect to the server")}),!1)},unmounted:function(){this.source&&this.source.close()}},G=(c("a546"),c("d959")),H=c.n(G);const W=H()(z,[["render",L],["__scopeId","data-v-3014801e"]]);var X=W,Z={name:"ViewDeckDiv",components:{ViewDeck:X}};const ee=H()(Z,[["render",a]]);t["default"]=ee},a546:function(e,t,c){"use strict";c("3f7a")}}]);
//# sourceMappingURL=chunk-38d6e53e.bfe32190.js.map